#!/usr/bin/env ruby
scales = {
  major:         "@ - @ - @ @ - @ - @ - @ ",
  minor:         "@ - @ @ - @ - @ @ - @ - ",
  dorian:        "@ - @ @ - @ - @ - @ @ - ",
  penta:         "@ - - @ - @ - @ - - @ - ",
  pentamajor:    "@ - @ - @ - - @ - @ - - ",
  pentaminor:    "@ - - @ - @ - @ - - @ - ",
  pentadorian:   "@ - @ - - @ - @ - - @ - ",
}
defaults = {
  grid: :penta,
  length: 4,
  strings: 4,
  offset: 5,
}
o = defaults.merge(
  Hash[
    ARGV.map do |a| 
      k,v = a.split('=')
      if v=='true'
        v = true
      elsif v=='false'
        v = false
      elsif v=~/^\d+$/
        v = v.to_i
      end
      [k.to_sym,v]
    end
  ]
)

grid = scales[o[:grid].to_sym]

o[:strings].times do
  o[:length].times do
    print grid
  end
  grid = grid.slice(o[:offset]*2..-1)+grid.slice(0...o[:offset]*2)
  print "\n"
end

